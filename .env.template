# ============================================================
# 生产部署环境变量模板（Docker Compose）
# 使用：复制为 .env 后修改，部署脚本会检查 JWT_SECRET
# cp .env.template .env && 编辑 .env
# ============================================================

# ---------- 必填 ----------
# JWT 密钥，生产必须为随机强密钥（32 位以上）。生成命令：openssl rand -hex 32
JWT_SECRET=change-me-in-production

# 数据库密码（Compose 内 PostgreSQL 使用，必填）
POSTGRES_PASSWORD=your-postgres-password

# 对外访问地址，必须 HTTPS 且与企微可信域名一致（如 https://device.xxx.edu.cn）
BASE_URL=https://your-domain.com

# ---------- 可选（数据库） ----------
POSTGRES_USER=device_scan
POSTGRES_DB=device_scan

# ---------- 可选（企业微信） ----------
# WECOM_CORP_ID=
# WECOM_AGENT_ID=
# WECOM_SECRET=

# ---------- 可选（院内访问控制：/admin、/docs 仅允许以下来源） ----------
# ALLOWED_ADMIN_ORIGINS=https://admin.xxx.edu.cn
# ALLOWED_ADMIN_IPS=192.168.0.0/16,10.0.0.1

# ---------- 可选（本地管理员首次登录自动创建 sys_admin） ----------
# ADMIN_USERNAME=admin
# ADMIN_PASSWORD=your-secure-password

# ---------- 应用内部（Compose 已注入，一般无需改） ----------
# ENVIRONMENT=production
# DATABASE_URL 由 Compose 根据 POSTGRES_* 自动拼接
